{"ast":null,"code":"import { BusService } from '../../services/bus.service';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\nimport { fadeInOut, slideInLeft, slideInRight, scaleIn, listStagger } from '../../animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/bus.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/auth.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction BusListComponent_i_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 3);\n  }\n}\nfunction BusListComponent_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 17);\n  }\n}\nfunction BusListComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function BusListComponent_div_19_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.clearSearch());\n    });\n    i0.ɵɵelement(2, \"i\", 20);\n    i0.ɵɵtext(3, \"Clear Search \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction BusListComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelement(1, \"div\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"@scaleIn\", ctx_r3.isVisible ? \"in\" : \"out\");\n  }\n}\nfunction BusListComponent_div_21_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵelement(1, \"i\", 28);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3, \"No Buses Found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Try adjusting your search criteria or check back later for more options.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"@fadeInOut\", ctx_r7.isVisible ? \"in\" : \"out\");\n  }\n}\nfunction BusListComponent_div_21_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"div\", 32)(2, \"div\")(3, \"div\", 33);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 34);\n    i0.ɵɵelement(6, \"i\", 35);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 36);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function BusListComponent_div_21_div_2_div_1_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const bus_r11 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r13.book(bus_r11));\n    });\n    i0.ɵɵelement(11, \"i\", 38);\n    i0.ɵɵtext(12, \"Book Now \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 39);\n    i0.ɵɵelement(14, \"i\", 40);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const bus_r11 = ctx.$implicit;\n    const i_r12 = ctx.index;\n    i0.ɵɵstyleProp(\"animation-delay\", i_r12 * 100, \"ms\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(bus_r11.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", bus_r11.origin, \" \\u2192 \", bus_r11.destination, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", bus_r11.fare, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(16, 7, bus_r11.travelDate, \"mediumDate\"), \" \");\n  }\n}\nfunction BusListComponent_div_21_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtemplate(1, BusListComponent_div_21_div_2_div_1_Template, 17, 10, \"div\", 30);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"@listStagger\", ctx_r8.isVisible ? \"in\" : \"out\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.buses);\n  }\n}\nfunction BusListComponent_div_21_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"div\", 42)(2, \"table\", 43)(3, \"thead\")(4, \"tr\")(5, \"th\");\n    i0.ɵɵelement(6, \"i\", 44);\n    i0.ɵɵtext(7, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵelement(9, \"i\", 45);\n    i0.ɵɵtext(10, \"Bus Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵelement(12, \"i\", 46);\n    i0.ɵɵtext(13, \"From\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"@listStagger\", ctx_r9.isVisible ? \"in\" : \"out\");\n  }\n}\nfunction BusListComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, BusListComponent_div_21_div_1_Template, 6, 1, \"div\", 24);\n    i0.ɵɵtemplate(2, BusListComponent_div_21_div_2_Template, 2, 2, \"div\", 25);\n    i0.ɵɵtemplate(3, BusListComponent_div_21_div_3_Template, 14, 1, \"div\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r4.buses == null ? null : ctx_r4.buses.length) === 0 && ctx_r4.searchPerformed);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.buses == null ? null : ctx_r4.buses.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.buses == null ? null : ctx_r4.buses.length);\n  }\n}\nexport let BusListComponent = /*#__PURE__*/(() => {\n  class BusListComponent {\n    constructor(busService, router, auth) {\n      this.busService = busService;\n      this.router = router;\n      this.auth = auth;\n      this.buses = [];\n      this.origin = '';\n      this.destination = '';\n      this.date = '';\n      this.isLoading = false;\n      this.searchPerformed = false;\n      this.isVisible = false;\n    }\n    ngOnInit() {\n      this.load();\n      // Trigger animations after component loads\n      setTimeout(() => {\n        this.isVisible = true;\n      }, 100);\n    }\n    load() {\n      this.isLoading = true;\n      this.busService.getAll().subscribe({\n        next: buses => {\n          this.buses = buses;\n          this.isLoading = false;\n        },\n        error: error => {\n          console.error('Error loading buses:', error);\n          this.isLoading = false;\n        }\n      });\n    }\n    search() {\n      if (!this.origin || !this.destination || !this.date) {\n        this.load();\n        return;\n      }\n      this.isLoading = true;\n      this.searchPerformed = true;\n      this.busService.search(this.origin, this.destination, this.date).subscribe({\n        next: buses => {\n          this.buses = buses;\n          this.isLoading = false;\n        },\n        error: error => {\n          console.error('Error searching buses:', error);\n          this.isLoading = false;\n        }\n      });\n    }\n    book(bus) {\n      if (!this.auth.isLoggedIn()) {\n        this.router.navigate(['/login']);\n        return;\n      }\n      this.router.navigate(['/bus', bus.id, 'book']);\n    }\n    clearSearch() {\n      this.origin = '';\n      this.destination = '';\n      this.date = '';\n      this.searchPerformed = false;\n      this.load();\n    }\n    getTodayDate() {\n      return new Date().toISOString().split('T')[0];\n    }\n  }\n  BusListComponent.ɵfac = function BusListComponent_Factory(t) {\n    return new (t || BusListComponent)(i0.ɵɵdirectiveInject(i1.BusService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthService));\n  };\n  BusListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BusListComponent,\n    selectors: [[\"app-bus-list\"]],\n    decls: 22,\n    vars: 18,\n    consts: [[1, \"container\", \"mt-4\"], [1, \"search-section\"], [1, \"mb-4\"], [1, \"fas\", \"fa-search\", \"me-2\"], [1, \"search-form\", 3, \"ngSubmit\"], [1, \"search-input\"], [1, \"fas\", \"fa-map-marker-alt\"], [\"placeholder\", \"From (e.g., New York)\", \"name\", \"origin\", \"required\", \"\", 1, \"form-control\", \"form-control-lg\", 3, \"ngModel\", \"min\", \"ngModelChange\"], [\"placeholder\", \"To (e.g., Boston)\", \"name\", \"destination\", \"required\", \"\", 1, \"form-control\", \"form-control-lg\", 3, \"ngModel\", \"ngModelChange\"], [1, \"fas\", \"fa-calendar-alt\"], [\"type\", \"date\", \"name\", \"date\", \"required\", \"\", 1, \"form-control\", \"form-control-lg\", 3, \"ngModel\", \"min\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-lg\", 3, \"disabled\"], [\"class\", \"fas fa-search me-2\", 4, \"ngIf\"], [\"class\", \"spinner-border spinner-border-sm me-2\", 4, \"ngIf\"], [\"class\", \"mt-3\", 4, \"ngIf\"], [\"class\", \"loading-spinner\", 4, \"ngIf\"], [\"class\", \"results-section\", 4, \"ngIf\"], [1, \"spinner-border\", \"spinner-border-sm\", \"me-2\"], [1, \"mt-3\"], [1, \"btn\", \"btn-outline-secondary\", \"clear-search-btn\", 3, \"click\"], [1, \"fas\", \"fa-times\", \"me-1\"], [1, \"loading-spinner\"], [1, \"spinner\"], [1, \"results-section\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [\"class\", \"d-md-none\", 4, \"ngIf\"], [\"class\", \"d-none d-md-block\", 4, \"ngIf\"], [1, \"empty-state\"], [1, \"fas\", \"fa-bus-slash\"], [1, \"d-md-none\"], [\"class\", \"bus-card\", 3, \"animation-delay\", 4, \"ngFor\", \"ngForOf\"], [1, \"bus-card\"], [1, \"bus-info\"], [1, \"bus-name\"], [1, \"bus-route\"], [1, \"fas\", \"fa-route\", \"me-1\"], [1, \"bus-fare\"], [1, \"btn\", \"book-btn\", 3, \"click\"], [1, \"fas\", \"fa-ticket-alt\", \"me-1\"], [1, \"text-muted\"], [1, \"fas\", \"fa-calendar\", \"me-1\"], [1, \"d-none\", \"d-md-block\"], [1, \"bus-table\"], [1, \"table\", \"table-hover\", \"mb-0\"], [1, \"fas\", \"fa-hashtag\", \"me-1\"], [1, \"fas\", \"fa-bus\", \"me-1\"], [1, \"fas\", \"fa-map-marker-alt\", \"me-1\"]],\n    template: function BusListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n        i0.ɵɵelement(3, \"i\", 3);\n        i0.ɵɵtext(4, \"Find Your Bus \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function BusListComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.search();\n        });\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelement(7, \"i\", 6);\n        i0.ɵɵelementStart(8, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function BusListComponent_Template_input_ngModelChange_8_listener($event) {\n          return ctx.origin = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 5);\n        i0.ɵɵelement(10, \"i\", 6);\n        i0.ɵɵelementStart(11, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function BusListComponent_Template_input_ngModelChange_11_listener($event) {\n          return ctx.destination = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 5);\n        i0.ɵɵelement(13, \"i\", 9);\n        i0.ɵɵelementStart(14, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function BusListComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.date = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"button\", 11);\n        i0.ɵɵtemplate(16, BusListComponent_i_16_Template, 1, 0, \"i\", 12);\n        i0.ɵɵtemplate(17, BusListComponent_span_17_Template, 1, 0, \"span\", 13);\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(19, BusListComponent_div_19_Template, 4, 0, \"div\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(20, BusListComponent_div_20_Template, 2, 1, \"div\", 15);\n        i0.ɵɵtemplate(21, BusListComponent_div_21_Template, 4, 3, \"div\", 16);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"@fadeInOut\", ctx.isVisible ? \"in\" : \"out\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"@slideInLeft\", ctx.isVisible ? \"in\" : \"out\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.origin)(\"min\", ctx.getTodayDate())(\"@formFieldFocus\", ctx.isVisible ? \"normal\" : \"normal\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.destination)(\"@formFieldFocus\", ctx.isVisible ? \"normal\" : \"normal\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.date)(\"min\", ctx.getTodayDate())(\"@formFieldFocus\", ctx.isVisible ? \"normal\" : \"normal\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading)(\"@buttonClick\", ctx.isVisible ? \"normal\" : \"normal\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.isLoading ? \"Searching...\" : \"Search Buses\", \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.searchPerformed);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i4.DatePipe],\n    styles: [\".search-section[_ngcontent-%COMP%]{background:white;border-radius:16px;padding:2rem;box-shadow:0 4px 12px #0000001a;margin-bottom:2rem;animation:_ngcontent-%COMP%_slideInDown .5s ease-out}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.search-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 2fr 1fr auto;gap:1rem;align-items:end}.search-input[_ngcontent-%COMP%]{position:relative}.search-input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#6c757d;z-index:2}.search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:2.5rem}.results-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out .2s both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.bus-table[_ngcontent-%COMP%]{background:white;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px #0000001a}.bus-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(45deg,#007bff,#66b3ff);color:#fff;font-weight:600;padding:1rem;border:none}.bus-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;vertical-align:middle;border-bottom:1px solid #e9ecef}.bus-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .2s ease}.bus-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:scale(1.01)}.bus-card[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:1.5rem;margin-bottom:1rem;box-shadow:0 4px 12px #0000001a;transition:all .3s ease;border-left:4px solid #007bff}.bus-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #007bff33}.bus-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr auto;gap:1rem;align-items:center;margin-bottom:1rem}.bus-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#343a40}.bus-route[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.bus-fare[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#28a745}.book-btn[_ngcontent-%COMP%]{background:linear-gradient(45deg,#28a745,#34ce57);border:none;padding:.75rem 1.5rem;border-radius:8px;font-weight:600;transition:all .2s ease}.book-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #28a7454d}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#6c757d}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;display:block}.clear-search-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;transition:all .2s ease}.clear-search-btn[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-1px)}@media (max-width: 768px){.search-form[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.bus-info[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center}.bus-table[_ngcontent-%COMP%]{font-size:.9rem}.bus-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .bus-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}@media (max-width: 576px){.search-section[_ngcontent-%COMP%], .bus-card[_ngcontent-%COMP%]{padding:1rem}}\"],\n    data: {\n      animation: [fadeInOut, slideInLeft, slideInRight, scaleIn, listStagger]\n    }\n  });\n  return BusListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}